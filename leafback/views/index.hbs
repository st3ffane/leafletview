<!DOCTYPE html>
<html>
<head>
  <title>LeafLet: Vanillia JS</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.1.0/dist/leaflet.css"
   integrity="sha512-wcw6ts8Anuw10Mzh9Ytw4pylW8+NAD4ch3lqm9lzAsTxg0GFeJgoAtxuCLREZSC5lUXdVyo/7yfsqFjQ4S+aKw=="
   crossorigin=""/>

   <script src="https://unpkg.com/leaflet@1.1.0/dist/leaflet.js"
   integrity="sha512-mNqn2Wg7tSToJhvHcqfzLMU6J4mkOImSPTxVZAdo+lcPlk+GhZmYgACEe0x35K7YzW1zJ7XyJV/TT1MrdXvMcA=="
   crossorigin=""></script>
  
</head>
<body>
  <div id="mySidenav" class="sidenav">
    <a href="javascript:void(0)" class="closebtn" onclick="VIEWER.closeNav()">&times;</a>

    <!-- liste des images possibles -->
    <div class="images_list style-2">
    {{#each dirs}}
    
     <div class="view view-tenth">
         <img src="/images/dzi/{{this}}/output.dzi_files/7/0_0.jpeg">
          <div class="mask">
              <h2>{{this}}</h2>
              
              <a href="#" onClick="VIEWER.loadImage('{{this}}')" class="info">Explorer</a>
          </div>
      </div>
      
    {{/each}}
    </div>
    
  </div>

  <!-- Use any element to open the sidenav -->
  <a id="menu_btn" class="btn btn-floating btn-lg red"  onclick="VIEWER.openNav()">&nbsp;</a>


    <div id="spinner" class="spinner">
      <div class="double-bounce1"></div>
      <div class="double-bounce2"></div>
    </div>
    <div id="map"></div>

</body>

<script src="javascripts/viewer.js"></script>
<script>
  //load la premiere image de la liste
  window.addEventListener("load", function(){
    VIEWER.loadImage('{{dirs.[0]}}').then (dt=>{
          //all is good...
      }).catch(err=>{
        alert ("Erreur lors du chargement du descriptor");
      })
  })

</script>
</html>
